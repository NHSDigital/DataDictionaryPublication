{"Filename":"C:\\GIT\\DataDictionaryPublication\\FreeMarker templates\\DITA\\UML SVG Topic.json","FileType":"MauroProject","Actions":[{"Template":"\u003C#ftl output_format=\u0022XML\u0022\u003E\r\n\u003C?xml version=\u00221.0\u0022 encoding=\u0022UTF-8\u0022?\u003E\r\n\u003C!DOCTYPE topic PUBLIC \u0022-//OASIS//DTD DITA Topic//EN\u0022 \u0022topic.dtd\u0022\u003E\r\n\u003Ctopic id=\u0022uml-${dataClass.id}\u0022 audience=\u0022diagrams\u0022\u003E\r\n    \u003Ctitle\u003E${dataClass.label}\u003C/title\u003E\r\n    \u003Cbody\u003E\r\n        \r\n       \u003Cfig frame=\u0022all\u0022 expanse=\u0022page\u0022\u003E\r\n          \u003Ctitle\u003EDiagram of ${dataClass.label} and related classes\u003C/title\u003E\r\n          \u003Cimage href=\u0022ClassDiagram_${dataClass.dataModel.label?url_path(\u0027utf-8\u0027)}%20-%20${dataClass.label?url_path(\u0027utf-8\u0027)}.dot.svg\u0022\u003E\r\n                \u003Calt\u003EDiagram of ${dataClass.label} and related classes\u003C/alt\u003E\r\n          \u003C/image\u003E\r\n       \u003C/fig\u003E\r\n    \r\n    \u003C/body\u003E\r\n\u003C/topic\u003E","FilePrefix":"ClassDiagram_","FileSuffix":".dita","ActionType":0,"Name":"Topic to contain a diagram","Description":"No description","id":"bb78d06f-e570-484e-aabb-675401f874dd"},{"Template":"\u003C#ftl output_format=\u0022XML\u0022\u003E\r\n\u003C?xml version=\u00221.0\u0022 encoding=\u0022UTF-8\u0022?\u003E\r\n\u003C!DOCTYPE topic PUBLIC \u0022-//OASIS//DTD DITA Topic//EN\u0022 \u0022topic.dtd\u0022\u003E\r\n\u003Ctopic id=\u0022uml-${dataModel.id}\u0022 audience=\u0022diagrams\u0022\u003E\r\n    \u003Ctitle\u003E${dataModel.label}\u003C/title\u003E\r\n    \u003Cbody\u003E\r\n        \r\n    \u003Cp\u003E\r\n${dataModel.description!\u0022\u0022}\r\n    \u003C/p\u003E\r\n    \r\n    \u003C/body\u003E\r\n\u003C/topic\u003E","FilePrefix":"Model_","FileSuffix":".dita","ActionType":1,"Name":"Model introduction DITA topic","Description":"No description","id":"ec5c6fac-1fc6-41b3-9714-8569c69af6b1"},{"Template":"\u003C#macro createLines dataClass\u003E\r\n\u0022C:\\Program Files (x86)\\Graphviz2.38\\bin\\dot\u0022 -O -Tsvg \u0022ClassDiagram_${dataClass.dataModel.label} - ${dataClass.label}.dot\u0022\r\n\r\n\u003C#list dataClass.childDataClasses as dc \u003E\r\n\u003C@createLines dc /\u003E\r\n\u003C/#list\u003E\r\n\u003C/#macro\u003E\r\nRem Batch file to generate SVG from DOT files\r\n\u003C#list dataModel.childDataClasses as dataClass \u003E\r\n\u003C@createLines dataClass /\u003E\r\n\u003C/#list\u003E","FilePrefix":"Model_","FileSuffix":".bat","ActionType":1,"Name":"Batch file","Description":"No description","id":"65bbb0fd-948e-4dcb-93df-d4e384fed0bb"},{"Template":"\u003C#macro topicref dataClass \u003E\r\n        \u003Ctopicref outputclass=\u0022class\u0022 href=\u0022ClassDiagram_${dataClass.dataModel.label?url_path(\u0027utf-8\u0027)}%20-%20${dataClass.label?url_path(\u0027utf-8\u0027)}.dita\u0022 navtitle=\u0022${dataClass.label}\u0022/\u003E\r\n    \u003C#list dataClass.childDataClasses?sort_by(\u0022label\u0022) as class\u003E\r\n    \u003C@topicref class /\u003E\r\n    \u003C/#list\u003E\r\n\u003C/#macro\u003E\r\n\u003C?xml version=\u00221.0\u0022 encoding=\u0022UTF-8\u0022?\u003E\r\n\u003C!DOCTYPE map PUBLIC \u0022-//OASIS//DTD DITA Map//EN\u0022 \u0022map.dtd\u0022\u003E\r\n\u003Cmap\u003E\r\n    \u003Ctitle\u003E${dataModel.label!\u0022A model\u0022}\u003C/title\u003E\r\n    \u003Ctopicref href=\u0022Model_${dataModel.label?url_path(\u0027utf-8\u0027)}.dita\u0022\u003E\r\n    \u003C#list dataModel.childDataClasses?sort_by(\u0022label\u0022) as class\u003E\r\n    \u003C@topicref class /\u003E\r\n    \u003C/#list\u003E\r\n    \u003C/topicref\u003E\r\n\u003C/map\u003E","FilePrefix":"Model_","FileSuffix":".ditamap","ActionType":1,"Name":"DITAMAP to link the topics together","Description":"No description","id":"3b196969-2b9e-4c47-9162-f4677970e6b2"},{"Template":"\u003C#macro drawChildren class\u003E\r\n// Children of ${class.label!\u0022Unknown class\u0022}\r\n    \u003C#list class.childDataClasses as related\u003E\r\n        \u0022${class.id}\u0022 -- \u0022${related.id}\u0022 [\r\n                arrowhead = \u0022none\u0022\r\n                headlabel = \u0022\u003C@multiplicity class /\u003E\u0022\r\n                taillabel = \u0022\u003C@multiplicity related /\u003E\u0022\r\n        ]\r\n        \u003C@drawClass related /\u003E\r\n    \u003C/#list\u003E\r\n\u003C/#macro\u003E\r\n\u003C#macro drawClass class\u003E\r\n// class ${class.label!\u0022Unknown class\u0022}\r\n        \u0022${class.id}\u0022 [ \r\n                tooltip = \u0022${class.label}\u0022,\r\n                label = \u003C \r\n                \u003Ctable border=\u00220\u0022\u003E\r\n                \u003Ctr\u003E\u003Ctd border=\u00220\u0022 align=\u0022center\u0022\u003E\u003Cb\u003E${class.label!\u0022Unknown class\u0022}\u003C/b\u003E\u003C/td\u003E\u003C/tr\u003E\r\n                \u003C#list class.childDataElements as dataElement\u003E\r\n                \u003Ctr\u003E\u003Ctd border=\u00220\u0022 align=\u0022left\u0022 href=\u0022https://contsys.org\u0022 title=\u0022Element: ${dataElement.label}\u0022\u003E\u002B ${dataElement.label} : ${dataElement.dataType.label!\u0022Missing datatype\u0022} [\u003C@multiplicity dataElement /\u003E]\u003C/td\u003E\u003C/tr\u003E\u003C/#list\u003E\r\n                \u003C/table\u003E\r\n                \u003E\r\n        ]\r\n\u003C/#macro\u003E\r\n\u003C#macro multiplicity object\u003E\r\n\u003C#if object.minMultiplicity??\u003E\u003C#if object.minMultiplicity == object.maxMultiplicity\u003E${object.minMultiplicity}\u003C#else\u003E${object.minMultiplicity}..\u003C#if object.maxMultiplicity==-1\u003E*\u003C#else\u003E${object.maxMultiplicity!\u0022?\u0022}\u003C/#if\u003E\u003C/#if\u003E\u003C/#if\u003E\u003C/#macro\u003E\r\n\u003C#macro relatedClasses dataClass\u003E\r\n${dataClass.label} \r\n\u003C#list dataClass.childDataElements?filter(p -\u003E p.dataType.domainType == \u0022ReferenceType\u0022) as dataElement \u003E\r\n       ${dataClass.label} ${dataElement.label}  ${dataElement.dataType.label} ${dataElement.dataType.referenceClass.label}\r\n\u003C/#list\u003E\r\n\u003C/#macro\u003E\r\n\r\ngraph G {\r\n        node [\r\n            shape = \u0022record\u0022\r\n        ]\r\n        edge [\r\n        ]\r\n\u003C@drawChildren dataClass /\u003E  \r\n\u003C@drawClass dataClass /\u003E        \r\n      \r\n}","FilePrefix":"ClassDiagram_","FileSuffix":".dot","ActionType":0,"Name":"GraphViz UML using HTML tags","Description":"No description","id":"64442c1a-6237-4ca7-805c-16e3eed43a9d"}],"Models":["a8e0180e-647f-4047-b41d-1243cbcd2e49"],"EndpointURL":"https://modelcatalogue.cs.ox.ac.uk/nhsd","Username":"","Password":"","Timeout":{"Ticks":0,"Days":0,"Hours":0,"Milliseconds":0,"Minutes":0,"Seconds":0,"TotalDays":0,"TotalHours":0,"TotalMilliseconds":0,"TotalMinutes":0,"TotalSeconds":0}}